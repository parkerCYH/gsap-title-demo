<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quote Animation GSAP</title>
    <link rel="stylesheet" href="https://use.typekit.net/pxc5lqp.css" />
    <style>
      body {
        background: #000000;
        opacity: 1;
        font-family: "Poppins";
      }

      main {
        background: transparent url("asset/g-pic.png") 0 0 no-repeat;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        opacity: 1;
      }

      .cases-quote-text .start-quote {
        left: -25px;
        position: absolute;
      }
      .cases-quote-text {
        position: relative;
        font-size: 48px;
        max-width: 720px;
        color: white;
        white-space: normal;
      }

      .fx-word {
        display: inline-block;
      }

      .fx-letter {
        display: inline-block;
        transform-origin: 0 100%;
        transform-style: preserve-3d;
        opacity: 1;
      }

      .start-quote,
      .end-quote {
        line-height: 80px;
      }
    </style>
  </head>
  <body>
    <main>
      <p class="cases-quote-text fx-parent" id="quote"></p>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
      const target = document.getElementById("quote");
      const text = "Team Taiwan! Team Taiwan! Taiwan is a great country!";

      const startQuote = document.createElement("span");
      startQuote.classList.add("fx-letter", "start-quote");
      startQuote.textContent = "“";
      target.appendChild(startQuote);

      text.split(" ").forEach((word) => {
        const wordSpan = document.createElement("span");
        wordSpan.classList.add("fx-word");

        [...word].forEach((char) => {
          const letterSpan = document.createElement("span");
          letterSpan.classList.add("fx-letter");
          letterSpan.textContent = char;
          wordSpan.appendChild(letterSpan);
        });

        target.appendChild(wordSpan);
        target.appendChild(document.createTextNode(" "));
      });

      const endQuote = document.createElement("span");
      endQuote.classList.add("fx-letter", "end-quote");
      endQuote.textContent = "”";
      target.appendChild(endQuote);

      gsap.fromTo(
        ".fx-letter",
        {
          opacity: 0,
          x: 80,
          y: 50,
          rotateX: -90,
          scaleY: 0.1,
          transformPerspective: 1000, // 添加透視感
          transformOrigin: "center bottom",
        },
        {
          opacity: 1,
          x: 0,
          y: 0,
          rotateX: 0,
          scaleY: 1,
          ease: "cubic-bezier(0.245, 0.495, 0, 0.99)",
          stagger: {
            amount: 1.2, // 或用 amount 也可以
          },
        }
      );
    </script>
  </body>
</html>
